@import 'compass';
@import "compass/reset";

@mixin iphone {
  @media only screen and (max-width: 650px) {@content;}
}

@mixin ipad {
  @media only screen and (max-width: 770px) {@content;}
}

$base-font-size: 15px;
$base-line-height: 19px;
@include establish-baseline();

$bg-color: #fff;
$text-color: #333;
$highlight-bg-color: transparentize(#000, .96);
$border: rhythm(2);

html, body {
  font-family: "minion-pro", "Times New Roman", sans-serif;
  -webkit-overflow-scrolling: touch;
  background-color: $bg-color;
  color: $text-color;
  @include iphone {
    text-align: center;
  }
}

a {
  color: #999;
  text-decoration: none;
  font-style: italic;
  &:hover {
    text-decoration: underline;
  }  
}

em, q {
  font-style: italic;
}

code, kbd {
  font-family: Inconsolata, Menlo, Consolas, "Panic Sans", Courier, monospace;
  @include adjust-font-size-to(13px);
}
#updated {
  position: fixed;
  bottom: $border / 0.7;
  left: $border * (14/0.7);
  @include adjust-font-size-to($base-font-size * 0.7);
  color: #dedede;  
  @include ipad {
    bottom: $border * 0.5;
    left: $border * 18.5;
  }
  @include iphone {
    position: relative;
    top: auto;
    left: auto;
    bottom: auto;
    right: auto;
    width: 100%;
    @include trailer();
  }
}
#colophon {
  position: fixed;
  top: $border * 2;
  left: $border * 14;
  right: $border;
  @include ipad {
    top: $border;
    left: $border * 13;
  }
  @include iphone {
    position: relative;
    top: auto;
    left: auto;
    right: auto;
    padding: rhythm();
    text-align: center;
    background-color: $highlight-bg-color;
    border-bottom: 1px solid #ddd;
    margin-bottom: -1px;
    z-index: 10;
  } 
  h1 {
    @include adjust-font-size-to($base-font-size * 1.5);
    @include leader(0.1);
    @include adjust-leading-to(1);
    @include iphone {
      @include adjust-font-size-to($base-font-size * 1.9);
    }
    small {
      @include leader(1.1);
      @include adjust-font-size-to(9px, 1);
      @include adjust-leading-to(1);
      display: block;
      @include ipad {
        @include adjust-font-size-to($base-font-size * 0.5);
        @include leader(1.5);
        @include trailer(1);
        @include adjust-leading-to(1);
      }
      @include iphone {
        @include adjust-font-size-to(8px, 1);
        @include leader(1);
        @include trailer(1);
        @include adjust-leading-to(1);
      }
    }
  }
  #contact {
    // @include leader(1.75);
    li {
      @include adjust-font-size-to(12px, 1);
      display: inline-block;
      padding: 0 0.5em;
      &:first-child {
        padding: 0;
      };
      @include iphone {
        @include adjust-font-size-to(15px, 1);
      }
    } 
  }
}

#works {
  position: absolute;
  top: $border;
  left: $border * 2;
  width: $border * 11;
  padding-bottom: $border;
  text-align: left;
  @include ipad {
    top: $border/2;
    padding-bottom: $border/2;
    left: rhythm(3);
    width: rhythm(22);
  }
  @include iphone {
    position: relative;
    top: auto;
    left: auto;
    width: 100%;
    padding: 0;
    margin-top: 0;
  }
  .entry {
    @include margin-trailer(2);
    position: relative;
    padding: rhythm(2);
    border-left: 2px solid $bg-color;
    background-color: $highlight-bg-color;
    &:last-child {
      @include margin-trailer(0);
    }
    @include transition-property(all);
    @include transition-duration(150ms);
    @include ipad {
      padding: rhythm(1);
      @include margin-trailer(1);
    }
    @include iphone {
      @include margin-trailer(0);
      padding: rhythm(1);
      border-left: none;
      background-color: $bg-color;
      border-top: 1px dotted #efefef !important;
    }
  }
  h2 {
    @include adjust-font-size-to($base-font-size * 2);
    @include adjust-leading-to(0.8);
    @include trailer(0);
    display: block;
  }
  .time {
    @include adjust-font-size-to($base-font-size * 0.7);
    @include iphone {
      @include leader(0.1);
    }
  }
  .tech {
    @include adjust-font-size-to($base-font-size * 0.7);
    @include margin-leader(1.6); 
    color: #999;
    font-style: italic;
    @include iphone {
      border: none;
      background-color: $highlight-bg-color;
      padding: rhythm(0.5);
      text-align: center;
      @include trailer(0.5);
    }
  }
  .role {
    @include leader(1);
    font-style: italic;
  }
  .content {
    text-align: center;
    p {
      text-align: left;
      @include leader(1);
    }
    a {
      cursor: pointer;
      color: $text-color;
      font-style: normal;
      text-decoration: underline;
    }
  }
  .external_url {
    @include leader();
    display: inline-block;
  }
  .fancy-content {
    display: none;
  }
}

#timelines {
  position: fixed;  
  top: $border;
  bottom: $border;
  left: $border;
  width: $border / 2;
  @include ipad {
    top: $border/2;
    bottom: $border/2;
    left: $border/2;
  }
  @include iphone {
    display: none;
  }
}

.timeline-event {
  position: absolute;
  left: 0px;
  right: 0px;
  background-color: $highlight-bg-color;
  @include transition-property(background-color);
  @include transition-duration(150ms);
}